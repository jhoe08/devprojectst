<!-- Header Template -->
<%- include('../views/header') -%>

<div class="wrapper">
    <%- include('../views/sidebar') -%>

    <div class="main-panel">
        <%- include('../views/main-header') -%>

        <div class="container">
            <div class="page-inner">
                <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
                    <div>
                        <h3 class="fw-bold mb-3"><%- title -%></h3>
                        <h6 class="op-7 mb-2">Lists of individuals working on the Department</h6>
                    </div>
                    <div class="ms-md-auto py-2 py-md-0">
                        <a href="#" class="btn btn-label-info btn-round me-2">Manage</a>
                        <a href="#" class="btn btn-primary btn-round"><i class="fas fa-plus"></i> Add New</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                          <div class="card-header">
                            <h4 class="card-title">List of Employees</h4>
                          </div>
                          <div class="card-body">
                            <div class="table-responsive">
                              <table
                                id="employees"
                                class="display table table-striped table-hover"
                              >
                                <thead>
                                  <tr>
                                    <th>Name</th>
                                    <th>Position</th>
                                    <th>Office</th>
                                    <th>Age</th>
                                    <th>Start date</th>
                                    <th>Salary</th>
                                    <th>Username</th>
                                    <th>Password</th>
                                    <!-- <th>Action</th> -->
                                  </tr>
                                </thead>
                                <tfoot>
                                  <tr>
                                    <th>Name</th>
                                    <th>Position</th>
                                    <th>Office</th>
                                    <th>Age</th>
                                    <th>Start date</th>
                                    <th>Salary</th>
                                    <th>Username</th>
                                    <th>Password</th>
                                  </tr>
                                </tfoot>
                                <tbody>
                                  <% 
                                    var _office, _salary, _age, _startdate, _position;
                                    
                                    for(var i=0; i < employees.length; i++) { 
                                    var {firstname, middlename, lastname, birthdate} = employees[i]
                                    var experiences = employees[i].experience
                                    var {list} = JSON.parse(experiences)

                                    _age = moment().diff(moment(birthdate), 'years');

                                    list.forEach(function(exp){
                                      var {office, salary, status, enddate, position, startdate, employment, arrangements} = exp
                                      if(status) {
                                        _office = office
                                        _startdate = startdate
                                        _salary = salary
                                        _position = position
                                      }
                                    })
                                    %>
                                    <tr>
                                      <td data-column="name"><%- `${firstname} ${lastname} ` %></td>
                                      <td data-column="position"><%- _position %></td>
                                      <td data-column="office"><%- _office %></td>
                                      <td data-column="age"><%- _age %></td>
                                      <td data-column="startdate"><%- _startdate %></td>
                                      <td data-column="salary"><%- _salary %></td>
                                      <td data-column="username">Username</td>
                                      <td data-column="password">Password</td>
                                    </tr>
                                  <% } %>
                                  <%
                                    var preUsers = [{"Name":"TigerNixon","Position":"SystemArchitect","Office":"Edinburgh","Age":61,"StartDate":"2011/04/25","Salary":"$320,800"},{"Name":"GarrettWinters","Position":"Accountant","Office":"Tokyo","Age":63,"StartDate":"2011/07/25","Salary":"$170,750"},{"Name":"AshtonCox","Position":"JuniorTechnicalAuthor","Office":"SanFrancisco","Age":66,"StartDate":"2009/01/12","Salary":"$86,000"},{"Name":"CedricKelly","Position":"SeniorJavascriptDeveloper","Office":"Edinburgh","Age":22,"StartDate":"2012/03/29","Salary":"$433,060"},{"Name":"AiriSatou","Position":"Accountant","Office":"Tokyo","Age":33,"StartDate":"2008/11/28","Salary":"$162,700"},{"Name":"BrielleWilliamson","Position":"IntegrationSpecialist","Office":"NewYork","Age":61,"StartDate":"2012/12/02","Salary":"$372,000"},{"Name":"HerrodChandler","Position":"SalesAssistant","Office":"SanFrancisco","Age":59,"StartDate":"2012/08/06","Salary":"$137,500"},{"Name":"RhonaDavidson","Position":"IntegrationSpecialist","Office":"Tokyo","Age":55,"StartDate":"2010/10/14","Salary":"$327,900"},{"Name":"ColleenHurst","Position":"JavascriptDeveloper","Office":"SanFrancisco","Age":39,"StartDate":"2009/09/15","Salary":"$205,500"},{"Name":"SonyaFrost","Position":"SoftwareEngineer","Office":"Edinburgh","Age":23,"StartDate":"2008/12/13","Salary":"$103,600"},{"Name":"JenaGaines","Position":"OfficeManager","Office":"London","Age":30,"StartDate":"2008/12/19","Salary":"$90,560"},{"Name":"QuinnFlynn","Position":"SupportLead","Office":"Edinburgh","Age":22,"StartDate":"2013/03/03","Salary":"$342,000"},{"Name":"ChardeMarshall","Position":"RegionalDirector","Office":"SanFrancisco","Age":36,"StartDate":"2008/10/16","Salary":"$470,600"},{"Name":"HaleyKennedy","Position":"SeniorMarketingDesigner","Office":"London","Age":43,"StartDate":"2012/12/18","Salary":"$313,500"},{"Name":"TatyanaFitzpatrick","Position":"RegionalDirector","Office":"London","Age":19,"StartDate":"2010/03/17","Salary":"$385,750"},{"Name":"MichaelSilva","Position":"MarketingDesigner","Office":"London","Age":66,"StartDate":"2012/11/27","Salary":"$198,500"},{"Name":"PaulByrd","Position":"ChiefFinancialOfficer(CFO)","Office":"NewYork","Age":64,"StartDate":"2010/06/09","Salary":"$725,000"},{"Name":"GloriaLittle","Position":"SystemsAdministrator","Office":"NewYork","Age":59,"StartDate":"2009/04/10","Salary":"$237,500"},{"Name":"BradleyGreer","Position":"SoftwareEngineer","Office":"London","Age":41,"StartDate":"2012/10/13","Salary":"$132,000"},{"Name":"DaiRios","Position":"PersonnelLead","Office":"Edinburgh","Age":35,"StartDate":"2012/09/26","Salary":"$217,500"},{"Name":"JenetteCaldwell","Position":"DevelopmentLead","Office":"NewYork","Age":30,"StartDate":"2011/09/03","Salary":"$345,000"},{"Name":"YuriBerry","Position":"ChiefMarketingOfficer(CMO)","Office":"NewYork","Age":40,"StartDate":"2009/06/25","Salary":"$675,000"},{"Name":"CaesarVance","Position":"Pre-SalesSupport","Office":"NewYork","Age":21,"StartDate":"2011/12/12","Salary":"$106,450"},{"Name":"DorisWilder","Position":"SalesAssistant","Office":"Sidney","Age":23,"StartDate":"2010/09/20","Salary":"$85,600"},{"Name":"AngelicaRamos","Position":"ChiefExecutiveOfficer(CEO)","Office":"London","Age":47,"StartDate":"2009/10/09","Salary":"$1,200,000"},{"Name":"GavinJoyce","Position":"Developer","Office":"Edinburgh","Age":42,"StartDate":"2010/12/22","Salary":"$92,575"},{"Name":"JenniferChang","Position":"RegionalDirector","Office":"Singapore","Age":28,"StartDate":"2010/11/14","Salary":"$357,650"},{"Name":"BrendenWagner","Position":"SoftwareEngineer","Office":"SanFrancisco","Age":28,"StartDate":"2011/06/07","Salary":"$206,850"},{"Name":"FionaGreen","Position":"ChiefOperatingOfficer(COO)","Office":"SanFrancisco","Age":48,"StartDate":"2010/03/11","Salary":"$850,000"},{"Name":"ShouItou","Position":"RegionalMarketing","Office":"Tokyo","Age":20,"StartDate":"2011/08/14","Salary":"$163,000"},{"Name":"MichelleHouse","Position":"IntegrationSpecialist","Office":"Sidney","Age":37,"StartDate":"2011/06/02","Salary":"$95,400"},{"Name":"SukiBurks","Position":"Developer","Office":"London","Age":53,"StartDate":"2009/10/22","Salary":"$114,500"},{"Name":"PrescottBartlett","Position":"TechnicalAuthor","Office":"London","Age":27,"StartDate":"2011/05/07","Salary":"$145,000"},{"Name":"GavinCortez","Position":"TeamLeader","Office":"SanFrancisco","Age":22,"StartDate":"2008/10/26","Salary":"$235,500"},{"Name":"MartenaMccray","Position":"Post-Salessupport","Office":"Edinburgh","Age":46,"StartDate":"2011/03/09","Salary":"$324,050"},{"Name":"UnityButler","Position":"MarketingDesigner","Office":"SanFrancisco","Age":47,"StartDate":"2009/12/09","Salary":"$85,675"},{"Name":"HowardHatfield","Position":"OfficeManager","Office":"SanFrancisco","Age":51,"StartDate":"2008/12/16","Salary":"$164,500"},{"Name":"HopeFuentes","Position":"Secretary","Office":"SanFrancisco","Age":41,"StartDate":"2010/02/12","Salary":"$109,850"},{"Name":"VivianHarrell","Position":"FinancialController","Office":"SanFrancisco","Age":62,"StartDate":"2009/02/14","Salary":"$452,500"},{"Name":"TimothyMooney","Position":"OfficeManager","Office":"London","Age":37,"StartDate":"2008/12/11","Salary":"$136,200"},{"Name":"JacksonBradshaw","Position":"Director","Office":"NewYork","Age":65,"StartDate":"2008/09/26","Salary":"$645,750"},{"Name":"OliviaLiang","Position":"SupportEngineer","Office":"Singapore","Age":64,"StartDate":"2011/02/03","Salary":"$234,500"},{"Name":"BrunoNash","Position":"SoftwareEngineer","Office":"London","Age":38,"StartDate":"2011/05/03","Salary":"$163,500"},{"Name":"SakuraYamamoto","Position":"SupportEngineer","Office":"Tokyo","Age":37,"StartDate":"2009/08/19","Salary":"$139,575"},{"Name":"ThorWalton","Position":"Developer","Office":"NewYork","Age":61,"StartDate":"2013/08/11","Salary":"$98,540"},{"Name":"FinnCamacho","Position":"SupportEngineer","Office":"SanFrancisco","Age":47,"StartDate":"2009/07/07","Salary":"$87,500"},{"Name":"SergeBaldwin","Position":"DataCoordinator","Office":"Singapore","Age":64,"StartDate":"2012/04/09","Salary":"$138,575"},{"Name":"ZenaidaFrank","Position":"SoftwareEngineer","Office":"NewYork","Age":63,"StartDate":"2010/01/04","Salary":"$125,250"},{"Name":"ZoritaSerrano","Position":"SoftwareEngineer","Office":"SanFrancisco","Age":56,"StartDate":"2012/06/01","Salary":"$115,000"},{"Name":"JenniferAcosta","Position":"JuniorJavascriptDeveloper","Office":"Edinburgh","Age":43,"StartDate":"2013/02/01","Salary":"$75,650"},{"Name":"CaraStevens","Position":"SalesAssistant","Office":"NewYork","Age":46,"StartDate":"2011/12/06","Salary":"$145,600"},{"Name":"HermioneButler","Position":"RegionalDirector","Office":"London","Age":47,"StartDate":"2011/03/21","Salary":"$356,250"},{"Name":"LaelGreer","Position":"SystemsAdministrator","Office":"London","Age":21,"StartDate":"2009/02/27","Salary":"$103,500"},{"Name":"JonasAlexander","Position":"Developer","Office":"SanFrancisco","Age":30,"StartDate":"2010/07/14","Salary":"$86,500"},{"Name":"ShadDecker","Position":"RegionalDirector","Office":"Edinburgh","Age":51,"StartDate":"2008/11/13","Salary":"$183,000"},{"Name":"MichaelBruce","Position":"JavascriptDeveloper","Office":"Singapore","Age":29,"StartDate":"2011/06/27","Salary":"$183,000"},{"Name":"DonnaSnider","Position":"CustomerSupport","Office":"NewYork","Age":27,"StartDate":"2011/01/25","Salary":"$112,000"}]
                                    preUsers.forEach(function(pre){ 
                                    var {Name, Position, Office, Age, StartDate, Salary} = pre
                                  %>
                                      <tr>
                                        <td data-column="name"><%- Name %></td>
                                        <td data-column="position"><%- Position %></td>
                                        <td data-column="office"><%- Office %></td>
                                        <td data-column="age"><%- Age %></td>
                                        <td data-column="startdate"><%- StartDate %></td>
                                        <td data-column="salary"><%- Salary %></td>
                                        <td data-column="username">Username</td>
                                        <td data-column="password">Password</td>
                                      </tr>
                                  <% }) %>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                      </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Header Template -->
<%- include('../views/footer') -%>