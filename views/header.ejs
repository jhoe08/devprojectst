<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title><%- title || '...' -%> â€” Department of Agriculture 7</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <link
      rel="icon"
      href="/assets/img/da-logo.ico"
      type="image/x-icon"
    />

    <!-- Fonts and icons -->
    <script src="/assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
      WebFont.load({
        google: { families: ["Public Sans:300,400,500,600,700"] },
        custom: {
          families: [
            "Font Awesome 5 Solid",
            "Font Awesome 5 Regular",
            "Font Awesome 5 Brands",
            "simple-line-icons",
          ],
          urls: ["/assets/css/fonts.min.css"],
        },
        active: function () {
          sessionStorage.fonts = true;
        },
      });

      // Number Format
      // const locale = 'en';
      // const options = {style: 'currency', currency: 'php', minimumFractionDigits: 2, maximumFractionDigits: 2};
      // let formatter = new Intl.NumberFormat(locale, options);
      // // How to use
      // var amount = 5000.25;
      // console.log(formatter.format(amount));
      
    </script>
    <script src="/assets/js/core/qrcode.min.js"></script>
    <!-- <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script> -->

    <script type="module" src="/assets/js/head.js"></script>
    <!-- CSS Files -->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/css/plugins.min.css" />
    <link rel="stylesheet" href="/assets/css/kaiadmin.min.css" />

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link rel="stylesheet" href="/assets/css/upload.css" />
    <link rel="stylesheet" href="/assets/css/media.css" />

    <link rel="stylesheet" href="/assets/css/demo.css" />
    <link rel="stylesheet" href="/assets/css/scanner.css" />
    <link rel="stylesheet" href="/assets/css/timer.css" />
    <link rel="stylesheet" href="/assets/css/animation.css" />
    <link rel="stylesheet" href="/assets/css/print.css" />
    <link rel="stylesheet" href="/assets/css/transactions.css" />
    <style>
      .nav .nav-item p {
        width: 100%;
      }
      [data-head="Notice Title"] .progress {
        height: 5px;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        if(calendarEl){
          var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth'
          });
          calendar.render();
        }
        
      });

    </script>
  </head>

  <body data-env="<%= ENVIRONMENT %>" data-testmode="<%= TEST_MODE %>" %>">

<% 
  const { divisions } = JSON.parse(DEPARTMENT)
  if(SESSION_USER){
    const { employeeid, username, firstname, lastname, middlename, experience } = SESSION_USER;
    const { lists } = JSON.parse(experience)
    let { office, salary, startdate, enddate, position, division, section, banner } = lists[0] 
    section = section.toUpperCase()

%>
  <input 
    id="created_by" 
    type="hidden"
    value="<%= username %>" 
    data-responsible="<%= JSON.stringify(getUserResponsible(division, section)) %>"
    />
  <input id="session_firstname" type="hidden" value="<%= firstname %>">
  <input id="session_middlename" type="hidden" value="<%= middlename %>">
  <input id="session_lastname" type="hidden" value="<%= lastname %>">
  <input id="session_userDivision" type="hidden" value="<%= findDivisionBySection(divisions, section) %>">
  <input id="session_userBanner" type="hidden" value="<%= section %>">
  <input id="session_userPosition" type="hidden" value="<%= position %>">
  <input id="session_userRole" type="hidden" value="<%= SESSION_USER_LOG.designation?.role %>">
  
<% } %>